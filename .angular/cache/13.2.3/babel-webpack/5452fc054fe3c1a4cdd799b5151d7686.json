{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { Profiles } from 'src/app/shared/NewClasses';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/new-services/profiles.service\";\nimport * as i4 from \"src/app/new-services/user-login.service\";\n\nfunction SignupComponent_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.formErrors.firstname);\n  }\n}\n\nfunction SignupComponent_p_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.formErrors.lastname);\n  }\n}\n\nfunction SignupComponent_option_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r7);\n  }\n}\n\nfunction SignupComponent_p_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.formErrors.email);\n  }\n}\n\nfunction SignupComponent_p_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.formErrors.password);\n  }\n}\n\nfunction SignupComponent_p_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.formErrors.passwordConfirm);\n  }\n}\n\nfunction SignupComponent_p_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r6.formErrors.phone);\n  }\n}\n\nconst _c0 = function () {\n  return [\"/login\"];\n};\n\nexport let SignupComponent = /*#__PURE__*/(() => {\n  class SignupComponent {\n    constructor(fb, router, profilesService, userLoginService) {\n      this.fb = fb;\n      this.router = router;\n      this.profilesService = profilesService;\n      this.userLoginService = userLoginService;\n      this.myUser = new Profiles();\n      this.sections = [\"Technical Radio\", \"Technical Rollout\", \"Technical RAN\", \"Technical Core\", \"Technical Fiber\", \"Technical NSD\", \"Technical SO\", \"Technical MW\", \"Technical Security Systems\", \"Marketing\", \"HCM\", \"Call Center\", \"MIS Development\", \"MIS Testing\", \"MIS Configuration and Release Management\", \"MIS UNIX Systems Administration\", \"MIS UI/UX Design\"];\n      this.formErrors = {\n        'firstname': '',\n        'lastname': '',\n        'email': '',\n        'password': '',\n        'passwordConfirm': '',\n        'phone': ''\n      };\n      this.validationMessages = {\n        'email': {\n          'required': 'Email is Required !',\n          'email': 'Email Address is not in valid format !'\n        },\n        'password': {\n          'required': 'Password is Required !',\n          'pattern': 'Password must be 8~12 char length with min one Upper and one Lower and one symbol and one number'\n        },\n        'passwordConfirm': {\n          'required': 'You must retype your password to confirm !',\n          'confirm': 'Two Passwords Must Match !'\n        },\n        'firstname': {\n          'required': 'First Name is Required !'\n        },\n        'lastname': {\n          'required': 'Last Name is Required !'\n        },\n        'phone': {\n          'required': 'Phone Number is Required !',\n          'pattern': 'Phone Number must be Numeric !'\n        }\n      };\n      this.signupForm = this.fb.group({\n        firstname: [\"\", Validators.required],\n        lastname: [\"\", Validators.required],\n        password: [\"\", [Validators.required, Validators.pattern(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,20}$\")]],\n        passwordConfirm: [\"\", Validators.required],\n        email: [\"\", [Validators.required, Validators.email]],\n        phone: [\"\", [Validators.required, Validators.pattern(\"^\\\\d+$\")]],\n        section: [\"\"]\n      });\n    }\n\n    ngOnInit() {\n      this.createForm();\n    }\n\n    onValueChanged(data) {\n      if (!this.signupForm) {\n        return;\n      }\n\n      const form = this.signupForm;\n\n      for (const field in this.formErrors) {\n        if (this.formErrors.hasOwnProperty(field)) {\n          // clear previous error message (if any)\n          this.formErrors[field] = '';\n          const control = form.get(field);\n\n          if (control && control.dirty && !control.valid) {\n            const messages = this.validationMessages[field];\n\n            for (const key in control.errors) {\n              if (control.errors.hasOwnProperty(key)) {\n                this.formErrors[field] += messages[key] + ' ';\n              }\n            }\n          }\n        }\n      }\n    }\n\n    createForm() {\n      this.signupForm.valueChanges.subscribe(data => {\n        this.onValueChanged(data);\n      });\n      this.onValueChanged(); // (re)set validation messages now\n    }\n\n    confirmCheck(event) {\n      var _a; // console.log(event.target.value);\n\n\n      if (event.target.value != ((_a = this.signupForm.get(\"password\")) === null || _a === void 0 ? void 0 : _a.value)) {\n        this.formErrors[\"passswordConfirm\"] = 'Two Passwords Must Match !';\n        return;\n      } else {\n        this.formErrors[\"passswordConfirm\"] = \"\";\n        return;\n      }\n    }\n\n    onSubmit() {\n      var _a, _b, _c, _d, _e, _f;\n\n      this.myUser.Email = (_a = this.signupForm.get(\"email\")) === null || _a === void 0 ? void 0 : _a.value;\n      this.myUser.FirstName = (_b = this.signupForm.get(\"firstname\")) === null || _b === void 0 ? void 0 : _b.value;\n      this.myUser.LastName = (_c = this.signupForm.get(\"lastname\")) === null || _c === void 0 ? void 0 : _c.value;\n      this.myUser.Mobile = (_d = this.signupForm.get(\"phone\")) === null || _d === void 0 ? void 0 : _d.value;\n      this.myUser.Password = (_e = this.signupForm.get(\"password\")) === null || _e === void 0 ? void 0 : _e.value;\n      this.myUser.Section = (_f = this.signupForm.get(\"section\")) === null || _f === void 0 ? void 0 : _f.value;\n      this.userLoginService.RegisterMe(this.myUser).then(() => {\n        this.profilesService.saveProfile(this.myUser).subscribe(() => {\n          this.router.navigate([\"/profile\"]);\n        });\n      });\n    }\n\n  }\n\n  SignupComponent.ɵfac = function SignupComponent_Factory(t) {\n    return new (t || SignupComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ProfilesService), i0.ɵɵdirectiveInject(i4.UserLoginService));\n  };\n\n  SignupComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SignupComponent,\n    selectors: [[\"app-signup\"]],\n    decls: 36,\n    vars: 11,\n    consts: [[1, \"jumbotron-fluid\", \"text-center\", \"p-5\"], [1, \"custom\"], [1, \"container\", \"align-content-center\", \"justify-content-center\", \"p-5\"], [\"novalidate\", \"\", 1, \"text-center\", \"border\", \"border-light\", \"p-5\", 3, \"formGroup\", \"ngSubmit\"], [1, \"h4\", \"mb-4\"], [1, \"fas\", \"fa-heart\", 2, \"color\", \"red\"], [1, \"form-row\", \"mb-4\"], [1, \"col\"], [\"formControlName\", \"firstname\", \"type\", \"text\", \"id\", \"defaultRegisterFormFirstName\", \"placeholder\", \"First Name\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"font-weight-bold text-danger\", 4, \"ngIf\"], [\"formControlName\", \"lastname\", \"type\", \"text\", \"id\", \"defaultRegisterFormLastName\", \"placeholder\", \"Last Name\", \"required\", \"\", 1, \"form-control\"], [\"formControlName\", \"section\", 1, \"form-control\", \"mb-4\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"email\", \"type\", \"email\", \"id\", \"defaultRegisterFormEmail\", \"placeholder\", \"E-mail\", \"required\", \"\", \"email\", \"\", 1, \"form-control\", \"mb-4\"], [\"formControlName\", \"password\", \"type\", \"password\", \"id\", \"defaultRegisterFormPassword\", \"placeholder\", \"Password\", \"pattern\", \"\", \"required\", \"\", 1, \"form-control\", \"mb-4\"], [\"formControlName\", \"passwordConfirm\", \"type\", \"password\", \"id\", \"defaultRegisterFormPasswordConfirm\", \"placeholder\", \"Password Confirm\", \"required\", \"\", 1, \"form-control\", \"mb-4\", 3, \"input\"], [\"formControlName\", \"phone\", \"type\", \"text\", \"id\", \"defaultRegisterPhonePassword\", \"placeholder\", \"Mobile number\", \"pattern\", \"\", \"required\", \"\", 1, \"form-control\", \"mb-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-danger\", \"my-4\", \"btn-block\", 3, \"disabled\"], [3, \"routerLink\"], [1, \"font-weight-bold\", \"text-danger\"], [3, \"value\"]],\n    template: function SignupComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"p\", 1);\n        i0.ɵɵtext(2, \" Syriatel Food Delivery \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"p\", 1);\n        i0.ɵɵtext(4, \" New APP \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 2);\n        i0.ɵɵelementStart(6, \"form\", 3);\n        i0.ɵɵlistener(\"ngSubmit\", function SignupComponent_Template_form_ngSubmit_6_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(7, \"p\", 4);\n        i0.ɵɵelement(8, \"i\", 5);\n        i0.ɵɵelement(9, \"i\", 5);\n        i0.ɵɵtext(10, \" We are so happy to have you a member in our Site \");\n        i0.ɵɵelement(11, \"i\", 5);\n        i0.ɵɵelement(12, \"i\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 6);\n        i0.ɵɵelementStart(14, \"div\", 7);\n        i0.ɵɵelement(15, \"input\", 8);\n        i0.ɵɵtemplate(16, SignupComponent_p_16_Template, 2, 1, \"p\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 7);\n        i0.ɵɵelement(18, \"input\", 10);\n        i0.ɵɵtemplate(19, SignupComponent_p_19_Template, 2, 1, \"p\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"label\");\n        i0.ɵɵtext(21, \"Please, Select Your Section: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"select\", 11);\n        i0.ɵɵtemplate(23, SignupComponent_option_23_Template, 2, 2, \"option\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(24, \"input\", 13);\n        i0.ɵɵtemplate(25, SignupComponent_p_25_Template, 2, 1, \"p\", 9);\n        i0.ɵɵelement(26, \"input\", 14);\n        i0.ɵɵtemplate(27, SignupComponent_p_27_Template, 2, 1, \"p\", 9);\n        i0.ɵɵelementStart(28, \"input\", 15);\n        i0.ɵɵlistener(\"input\", function SignupComponent_Template_input_input_28_listener($event) {\n          return ctx.confirmCheck($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(29, SignupComponent_p_29_Template, 2, 1, \"p\", 9);\n        i0.ɵɵelement(30, \"input\", 16);\n        i0.ɵɵtemplate(31, SignupComponent_p_31_Template, 2, 1, \"p\", 9);\n        i0.ɵɵelementStart(32, \"button\", 17);\n        i0.ɵɵtext(33, \"REGISTER\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"a\", 18);\n        i0.ɵɵtext(35, \"Login instead ?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"formGroup\", ctx.signupForm);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ctx.formErrors.firstname);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.formErrors.lastname);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sections);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.formErrors.email);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.formErrors.password);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.formErrors.passwordConfirm);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.formErrors.phone);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.signupForm.valid);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(10, _c0));\n      }\n    },\n    styles: [\"@import\\\"https://fonts.googleapis.com/css2?family=Rock+Salt&display=swap\\\";.jumbotron-fluid[_ngcontent-%COMP%]{background:url(mehshe.jpg);background-position:center center;background-repeat:no-repeat;background-size:cover}p.custom[_ngcontent-%COMP%]{font-size:7rem;font-family:Rock Salt,cursive;font-weight:700;font-style:italic}\"]\n  });\n  return SignupComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}